## Хабы SignalR

### /userhub

Доступен всем авторизированным пользователям чата.

**RecieveNewUser(UserDto user)** срабатывает у всех клиентов, когда в чате регистрируется новый пользователь.

### /chathub

Доступен всем авторизированным пользователям чата.

**RecieveNewMessage(Message message)** вызывается у всех клиентов, которым адресовано сообщение.

**MessageIsMarkedAsRead(MessageIsRead messageIsRead)** вызывается у отправителя и получателей сообщения, когда оно отмечено как прочитанное. Не вызывается у получателя, который отметил сообщение как прочитанное.

**MessagesAreRecieved(MessageIsRecieved[] messagesAreRecieved)** вызывается у отправителей и получателей, когда одно или несколько сообщений из чата получены одним или несколькими пользователями. Также вызывается и у тех пользователей, которые получили сообщение.

**UserHasConnected(Guid userGuid)** вызывается у всех клиентов при подключении или пользователя к хабу чата.

**UserHasDisconnected(Guid userGuid)** вызывается у всех клиентов при отключении пользователя от хаба чата.
